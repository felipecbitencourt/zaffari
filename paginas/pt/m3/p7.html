<!-- Módulo 3 - Página 7: Desafio Final -->
<div class="content-header">
    <h1 data-i18n="m3.p7.title"></h1>
</div>

<div class="content-body">
    <!-- INICIO DO TEXTO EDITÁVEL -->
    <p data-i18n="m3.p7.intro"></p>

    <!-- BOAS PRÁTICAS - Grid 2x2 -->
    <h3 data-i18n="m3.p7.practices_title"></h3>

    <div class="interactive-cards" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
        <div class="interactive-card">
            <div class="interactive-card-header">
                <span class="icon">👂</span>
                <span data-i18n="m3.p7.practices.p1.title"></span>
            </div>
            <div class="interactive-card-content">
                <p data-i18n="m3.p7.practices.p1.text"></p>
            </div>
        </div>
        <div class="interactive-card">
            <div class="interactive-card-header">
                <span class="icon">🔍</span>
                <span data-i18n="m3.p7.practices.p2.title"></span>
            </div>
            <div class="interactive-card-content">
                <p data-i18n="m3.p7.practices.p2.text"></p>
            </div>
        </div>
        <div class="interactive-card">
            <div class="interactive-card-header">
                <span class="icon">💚</span>
                <span data-i18n="m3.p7.practices.p3.title"></span>
            </div>
            <div class="interactive-card-content">
                <p data-i18n="m3.p7.practices.p3.text"></p>
            </div>
        </div>
        <div class="interactive-card">
            <div class="interactive-card-header">
                <span class="icon">📝</span>
                <span data-i18n="m3.p7.practices.p4.title"></span>
            </div>
            <div class="interactive-card-content">
                <p data-i18n="m3.p7.practices.p4.text"></p>
            </div>
        </div>
    </div>

    <!-- QUESTÃO 11 (Reflexiva) -->
    <div class="box-attention"
        style="background-color: #e1f5fe; border-left: 5px solid #03a9f4; padding: 15px; margin-top: 20px;">
        <h3 data-i18n="m3.p7.box_title"></h3>
        <p><strong data-i18n="m3.p7.box_text"></strong></p>
        <textarea id="resposta-desafio" data-i18n="[placeholder]m3.p7.placeholder" placeholder=""
            style="width: 100%; height: 80px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; margin-top: 10px;"></textarea>
        <button id="btn-enviar-desafio" class="btn-primary"
            style="margin-top: 15px; padding: 12px 30px; background: var(--primary-gradient); color: white; border: none; border-radius: var(--radius-md); font-weight: 600; cursor: pointer;"
            data-i18n="m3.p7.btn_submit"></button>
        <div id="feedback-desafio"
            style="display: none; margin-top: 15px; padding: 15px; background: #e8f5e9; border-radius: var(--radius-md); border-left: 4px solid #4caf50;">
            <p style="margin: 0; color: #2e7d32;" data-i18n="[html]m3.p7.feedback"></p>
        </div>
    </div>
    <!-- FIM DO TEXTO EDITÁVEL -->
</div>

<script>
    (function () {
        const btn = document.getElementById('btn-enviar-desafio');
        const textarea = document.getElementById('resposta-desafio');
        const feedback = document.getElementById('feedback-desafio');

        if (btn && textarea && feedback) {
            btn.onclick = function () {
                // Mostrar feedback
                feedback.style.display = 'block';
                btn.disabled = true;
                btn.textContent = I18n?.t('m3.p7.btn_sent') || '✔ Enviado';
                btn.style.background = '#4caf50';
                textarea.disabled = true;

                // Som de sucesso
                if (typeof AudioManager !== 'undefined') AudioManager.playSuccess();
            };
        }
    })();
</script>