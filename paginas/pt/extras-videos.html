<!-- Extras - V√≠deos Complementares -->
<div class="content-header">
    <h1>üé¨ V√≠deos Complementares</h1>
</div>

<div class="content-body">
    <!-- INICIO DO TEXTO EDIT√ÅVEL -->
    <p class="lead">Assista a v√≠deos com dicas pr√°ticas e exemplos reais de atendimento ao cliente.</p>

    <!-- M√ìDULO 1 -->
    <div class="video-module" data-module="1" id="video-m1">
        <div class="video-module-header" onclick="toggleVideoModule('m1')">
            <div class="video-module-header-left">
                <span class="video-module-icon">üéØ</span>
                <h3>M√≥dulo 1: Papel Estrat√©gico do SAC</h3>
                <span class="video-count">2 v√≠deos</span>
            </div>
            <div class="video-module-header-right">
                <span class="video-status locked-status">üîí Conclua o m√≥dulo para desbloquear</span>
                <span class="video-status unlocked-status" style="display:none;">‚úì Dispon√≠vel</span>
                <span class="video-toggle">‚ñº</span>
            </div>
        </div>
        <div class="video-module-content" style="display:none;">
            <div class="video-list">
                <div class="video-item" data-video="m1-v1">
                    <div class="video-thumbnail">
                        <span class="play-icon">‚ñ∂</span>
                    </div>
                    <div class="video-info">
                        <h4>Boas Pr√°ticas de Atendimento</h4>
                        <p>Dicas essenciais para um atendimento de excel√™ncia</p>
                        <span class="video-duration">üì∫ Em breve</span>
                    </div>
                </div>
                <div class="video-item" data-video="m1-v2">
                    <div class="video-thumbnail">
                        <span class="play-icon">‚ñ∂</span>
                    </div>
                    <div class="video-info">
                        <h4>A Import√¢ncia da Empatia</h4>
                        <p>Como se colocar no lugar do cliente</p>
                        <span class="video-duration">üì∫ Em breve</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="video-locked-overlay">
            <span class="lock-icon">üîí</span>
            <p>Complete o M√≥dulo 1 para desbloquear estes v√≠deos</p>
        </div>
    </div>

    <!-- M√ìDULO 2 -->
    <div class="video-module" data-module="2" id="video-m2">
        <div class="video-module-header" onclick="toggleVideoModule('m2')">
            <div class="video-module-header-left">
                <span class="video-module-icon">üîß</span>
                <h3>M√≥dulo 2: Onde encontrar informa√ß√µes?</h3>
                <span class="video-count">2 v√≠deos</span>
            </div>
            <div class="video-module-header-right">
                <span class="video-status locked-status">üîí Conclua o m√≥dulo para desbloquear</span>
                <span class="video-status unlocked-status" style="display:none;">‚úì Dispon√≠vel</span>
                <span class="video-toggle">‚ñº</span>
            </div>
        </div>
        <div class="video-module-content" style="display:none;">
            <div class="video-list">
                <div class="video-item" data-video="m2-v1">
                    <div class="video-thumbnail">
                        <span class="play-icon">‚ñ∂</span>
                    </div>
                    <div class="video-info">
                        <h4>Tour pela Intranet</h4>
                        <p>Navegando pelo sistema de informa√ß√µes</p>
                        <span class="video-duration">üì∫ Em breve</span>
                    </div>
                </div>
                <div class="video-item" data-video="m2-v2">
                    <div class="video-thumbnail">
                        <span class="play-icon">‚ñ∂</span>
                    </div>
                    <div class="video-info">
                        <h4>WhatsApp de Ofertas na Pr√°tica</h4>
                        <p>Como orientar o cliente a se cadastrar</p>
                        <span class="video-duration">üì∫ Em breve</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="video-locked-overlay">
            <span class="lock-icon">üîí</span>
            <p>Complete o M√≥dulo 2 para desbloquear estes v√≠deos</p>
        </div>
    </div>

    <!-- M√ìDULO 3 -->
    <div class="video-module" data-module="3" id="video-m3">
        <div class="video-module-header" onclick="toggleVideoModule('m3')">
            <div class="video-module-header-left">
                <span class="video-module-icon">‚öñÔ∏è</span>
                <h3>M√≥dulo 3: CDC e Legisla√ß√£o</h3>
                <span class="video-count">3 v√≠deos</span>
            </div>
            <div class="video-module-header-right">
                <span class="video-status locked-status">üîí Conclua o m√≥dulo para desbloquear</span>
                <span class="video-status unlocked-status" style="display:none;">‚úì Dispon√≠vel</span>
                <span class="video-toggle">‚ñº</span>
            </div>
        </div>
        <div class="video-module-content" style="display:none;">
            <div class="video-list">
                <div class="video-item" data-video="m3-v1">
                    <div class="video-thumbnail">
                        <span class="play-icon">‚ñ∂</span>
                    </div>
                    <div class="video-info">
                        <h4>Entendendo o CDC</h4>
                        <p>Principais pontos do C√≥digo de Defesa do Consumidor</p>
                        <span class="video-duration">üì∫ Em breve</span>
                    </div>
                </div>
                <div class="video-item" data-video="m3-v2">
                    <div class="video-thumbnail">
                        <span class="play-icon">‚ñ∂</span>
                    </div>
                    <div class="video-info">
                        <h4>Trocas e Devolu√ß√µes</h4>
                        <p>Quando o cliente tem ou n√£o tem direito</p>
                        <span class="video-duration">üì∫ Em breve</span>
                    </div>
                </div>
                <div class="video-item" data-video="m3-v3">
                    <div class="video-thumbnail">
                        <span class="play-icon">‚ñ∂</span>
                    </div>
                    <div class="video-info">
                        <h4>Assist√™ncia T√©cnica</h4>
                        <p>Procedimentos corretos para produtos com defeito</p>
                        <span class="video-duration">üì∫ Em breve</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="video-locked-overlay">
            <span class="lock-icon">üîí</span>
            <p>Complete o M√≥dulo 3 para desbloquear estes v√≠deos</p>
        </div>
    </div>

    <div class="box-attention" style="margin-top: var(--spacing-xl);">
        <p>üí° Os v√≠deos podem ser pausados e revistos quantas vezes voc√™ precisar.</p>
    </div>

    <!-- Bot√£o Voltar -->
    <div class="extras-back-container" style="margin-top: var(--spacing-xl); text-align: center;">
        <button class="btn-extras-back" onclick="navigateToPage('extras-hub')">‚Üê Voltar ao Menu de Extras</button>
    </div>
    <!-- FIM DO TEXTO EDIT√ÅVEL -->
</div>

<script>
    // Fun√ß√£o para alternar visibilidade do m√≥dulo de v√≠deo
    function toggleVideoModule(moduleId) {
        const videoDiv = document.getElementById('video-' + moduleId);
        if (!videoDiv) return;

        // Verificar se est√° desbloqueado
        if (videoDiv.classList.contains('locked')) {
            // Se bloqueado, n√£o permite expandir
            if (typeof AudioManager !== 'undefined') AudioManager.playError();
            videoDiv.classList.add('shake');
            setTimeout(() => videoDiv.classList.remove('shake'), 500);
            return;
        }

        const content = videoDiv.querySelector('.video-module-content');
        const toggle = videoDiv.querySelector('.video-toggle');

        if (content.style.display === 'none') {
            content.style.display = 'block';
            toggle.textContent = '‚ñ≤';
            videoDiv.classList.add('expanded');
            if (typeof AudioManager !== 'undefined') AudioManager.playClick();
        } else {
            content.style.display = 'none';
            toggle.textContent = '‚ñº';
            videoDiv.classList.remove('expanded');
            if (typeof AudioManager !== 'undefined') AudioManager.playClick();
        }
    }

    // Inicializar estado dos v√≠deos baseado nas medalhas
    (function () {
        const badges = JSON.parse(localStorage.getItem('badges') || '{}');

        // Verificar cada m√≥dulo
        ['m1', 'm2', 'm3'].forEach(moduleKey => {
            const videoDiv = document.getElementById('video-' + moduleKey);
            if (!videoDiv) return;

            const isUnlocked = badges[moduleKey] && badges[moduleKey].length > 0;
            const lockedStatus = videoDiv.querySelector('.locked-status');
            const unlockedStatus = videoDiv.querySelector('.unlocked-status');
            const overlay = videoDiv.querySelector('.video-locked-overlay');

            if (isUnlocked) {
                // Desbloqueado
                videoDiv.classList.remove('locked');
                videoDiv.classList.add('unlocked');
                if (lockedStatus) lockedStatus.style.display = 'none';
                if (unlockedStatus) unlockedStatus.style.display = 'inline';
                if (overlay) overlay.style.display = 'none';
            } else {
                // Bloqueado
                videoDiv.classList.add('locked');
                videoDiv.classList.remove('unlocked');
                if (lockedStatus) lockedStatus.style.display = 'inline';
                if (unlockedStatus) unlockedStatus.style.display = 'none';
                if (overlay) overlay.style.display = 'flex';
            }
        });

        // Adicionar handlers para v√≠deos
        document.querySelectorAll('.video-item').forEach(item => {
            item.addEventListener('click', function () {
                // Por enquanto, apenas mostrar mensagem de "em breve"
                alert('Este v√≠deo estar√° dispon√≠vel em breve!');
            });
        });
    })();
</script>

<style>
    /* Estilos para os m√≥dulos de v√≠deo */
    .video-module {
        background: var(--bg-secondary);
        border-radius: var(--radius-lg);
        margin-bottom: var(--spacing-md);
        overflow: hidden;
        border: 1px solid var(--border-color);
        transition: all var(--transition-normal);
        position: relative;
    }

    .video-module.locked {
        opacity: 0.7;
    }

    .video-module.locked .video-module-header {
        cursor: not-allowed;
    }

    .video-module.unlocked:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
    }

    .video-module-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--spacing-md) var(--spacing-lg);
        background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
        cursor: pointer;
        transition: background var(--transition-fast);
    }

    .video-module.unlocked .video-module-header:hover {
        background: linear-gradient(135deg, rgba(229, 57, 53, 0.08) 0%, rgba(255, 111, 96, 0.05) 100%);
    }

    .video-module-header-left {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
    }

    .video-module-icon {
        font-size: 1.5rem;
    }

    .video-module-header-left h3 {
        margin: 0;
        color: var(--text-primary);
        font-size: 1.1rem;
    }

    .video-count {
        background: var(--primary-color);
        color: white;
        padding: 2px 10px;
        border-radius: var(--radius-full);
        font-size: 0.75rem;
        font-weight: 600;
    }

    .video-module-header-right {
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
    }

    .video-status {
        font-size: 0.85rem;
        padding: 4px 10px;
        border-radius: var(--radius-full);
    }

    .video-status.locked-status {
        background: rgba(255, 152, 0, 0.15);
        color: #e65100;
    }

    .video-status.unlocked-status {
        background: rgba(76, 175, 80, 0.15);
        color: #2e7d32;
    }

    .video-toggle {
        font-size: 0.8rem;
        color: var(--text-secondary);
        transition: transform var(--transition-fast);
    }

    .video-module.expanded .video-toggle {
        transform: rotate(180deg);
    }

    .video-module-content {
        padding: var(--spacing-lg);
        border-top: 1px solid var(--border-color);
        animation: slideDown 0.3s ease;
    }

    /* Lista de v√≠deos */
    .video-list {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-md);
    }

    .video-item {
        display: flex;
        gap: var(--spacing-md);
        padding: var(--spacing-md);
        background: var(--bg-primary);
        border-radius: var(--radius-md);
        border: 1px solid var(--border-color);
        cursor: pointer;
        transition: all var(--transition-fast);
    }

    .video-item:hover {
        border-color: var(--primary-color);
        transform: translateX(4px);
    }

    .video-thumbnail {
        width: 120px;
        height: 70px;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border-radius: var(--radius-sm);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .video-thumbnail .play-icon {
        color: white;
        font-size: 1.5rem;
        opacity: 0.8;
    }

    .video-info {
        flex: 1;
    }

    .video-info h4 {
        margin: 0 0 var(--spacing-xs);
        color: var(--text-primary);
        font-size: 1rem;
    }

    .video-info p {
        margin: 0 0 var(--spacing-xs);
        color: var(--text-secondary);
        font-size: 0.85rem;
    }

    .video-duration {
        font-size: 0.75rem;
        color: var(--text-muted);
    }

    /* Overlay bloqueado */
    .video-locked-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 255, 255, 0.9);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-sm);
        z-index: 5;
        pointer-events: none;
    }

    .video-locked-overlay .lock-icon {
        font-size: 2rem;
        opacity: 0.7;
    }

    .video-locked-overlay p {
        margin: 0;
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

    .video-module.unlocked .video-locked-overlay {
        display: none;
    }

    /* Dark mode */
    body.high-contrast .video-module {
        background: var(--bg-secondary);
        border-color: var(--border-color);
    }

    body.high-contrast .video-locked-overlay {
        background: rgba(30, 30, 30, 0.95);
    }

    body.high-contrast .video-status.locked-status {
        background: rgba(255, 152, 0, 0.25);
        color: #ffb74d;
    }

    body.high-contrast .video-status.unlocked-status {
        background: rgba(76, 175, 80, 0.25);
        color: #81c784;
    }

    body.high-contrast .video-item {
        background: var(--bg-secondary);
    }

    /* Responsividade */
    @media (max-width: 768px) {
        .video-module-header {
            flex-direction: column;
            gap: var(--spacing-sm);
            text-align: center;
        }

        .video-module-header-left {
            flex-direction: column;
        }

        .video-module-header-right {
            flex-direction: column;
            width: 100%;
        }

        .video-item {
            flex-direction: column;
        }

        .video-thumbnail {
            width: 100%;
            height: 120px;
        }
    }
</style>